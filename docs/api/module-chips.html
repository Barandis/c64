<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>chips - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-chips.html">chips</a><ul class='methods'><li data-type='method'><a href="module-chips.html#.Ic4066">Ic4066</a></li><li data-type='method'><a href="module-chips.html#.Ic7406">Ic7406</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">chips</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Emulations of the integrated circuits used in the Commodore 64.</p>
<p>The early Commodore 64 had 32 integrated circuits. (Later verions had
fewer, as some chips were combined and a smaller number of larger
DRAM chips were used.) There are 27 of those ICs emulated here.</p>
<table>
<thead>
<tr>
<th>Designation</th>
<th>Link</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>U1</td>
<td><code>6526</code></td>
<td>Complex Interface Adapter</td>
</tr>
<tr>
<td>U2</td>
<td><code>6526</code></td>
<td>Complex Interface Adapter</td>
</tr>
<tr>
<td>U3</td>
<td><code>2364</code></td>
<td>8k x 8 Basic ROM</td>
</tr>
<tr>
<td>U4</td>
<td><code>2364</code></td>
<td>8k x 8 Kernal ROM</td>
</tr>
<tr>
<td>U5</td>
<td><code>2332</code></td>
<td>4k x 8 Charcter ROM</td>
</tr>
<tr>
<td>U6</td>
<td><code>2114</code></td>
<td>1k x 4 Static RAM</td>
</tr>
<tr>
<td>U7</td>
<td><code>6510</code></td>
<td>Microprocessor</td>
</tr>
<tr>
<td>U8</td>
<td><code><a href="module-chips.html#.Ic7406">7406</a></code></td>
<td>Hex Inverter</td>
</tr>
<tr>
<td>U9</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U10</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U11</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U12</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U13</td>
<td><code>74257</code></td>
<td>Quad 2-to-1 Mux</td>
</tr>
<tr>
<td>U14</td>
<td><code>74258</code></td>
<td>Quad 2-to-1 Mux</td>
</tr>
<tr>
<td>U15</td>
<td><code>74139</code></td>
<td>Dual 2-to-4 Demux</td>
</tr>
<tr>
<td>U16</td>
<td><code><a href="module-chips.html#.Ic4066">4066</a></code></td>
<td>Quad Bilateral Switch</td>
</tr>
<tr>
<td>U17</td>
<td><code>82S100</code></td>
<td>Logic Array</td>
</tr>
<tr>
<td>U18</td>
<td><code>6581</code></td>
<td>Sound Interface Device</td>
</tr>
<tr>
<td>U19</td>
<td><code>6567</code></td>
<td>Video Controller</td>
</tr>
<tr>
<td>U21</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U22</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U23</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U24</td>
<td><code>4164</code></td>
<td>64k x 1 Dynamic RAM</td>
</tr>
<tr>
<td>U25</td>
<td><code>74257</code></td>
<td>Quad 2-to-1 Mux</td>
</tr>
<tr>
<td>U26</td>
<td><code>74373</code></td>
<td>Octal Latch</td>
</tr>
<tr>
<td>U27</td>
<td><code>7408</code></td>
<td>Quad 2-input AND Gate</td>
</tr>
<tr>
<td>U28</td>
<td><code><a href="module-chips.html#.Ic4066">4066</a></code></td>
<td>Quad Bilateral Switch</td>
</tr>
</tbody>
</table>
<p>Those not emulated are</p>
<ul>
<li>U20: 556 Dual Timer</li>
<li>U29: 74LS74 Dual D-Type Flip Flop</li>
<li>U30: 74LS193 4-bit Binary Counter</li>
<li>U31: 74LS629 Voltage-Controlled Oscillator</li>
<li>U32: MC4044 Phase-Frequency Detector</li>
</ul>
<p>U20 is used to more precisely time NMI and RESET signals, while
U29-U32 are components of the clock. Since a software emulation
defines its own timing, none of these is necessary or even useful.</p>
<p>Each chip's API is defined wholly by its pins. The pins for each chip
can be referenced in two different ways.</p>
<ol>
<li>Via a property with the same name as the pin. These properties are
listed in each chip's documentation.</li>
<li>Via an array index with the pin's number. Each property
description includes a number in square brackets; this is the pin
number and the index into the chip object that will return that
pin. Note that because these pin numbers match the numbers on the
chip's datasheet, they are 1-indexed. There is no Pin 0.</li>
</ol>
<p>Additionally, a chip has all methods that an array would, using its
pins as its elements. Therefore you can iterate over a chip, map its
pins, etc. Remember when doing so that since there is no pin 0 but an
array does have an element 0, that element 0 will be an empty item.
Filtering it out may be necessary.</p>
<p>A chip responds to inputs on some of its pins with outputs on others
of its pins. The details on how this happens and upon which pins it
happens defines the chip.</p></div>
            

            
                




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
































            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".Ic4066"><span class="type-signature">(static) </span>Ic4066<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="module-chips.html#.Ic4066">module:chips.Ic4066</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ic-4066.js.html">ic-4066.js</a>, <a href="ic-4066.js.html#line105">line 105</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates an emulation of the 4066 quad bilateral switch.</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new 4066 quad bilateral switch.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chips.html#.Ic4066">module:chips.Ic4066</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".Ic7406"><span class="type-signature">(static) </span>Ic7406<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="module-chips.html#.Ic7406">module:chips.Ic7406</a>}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ic-7406.js.html">ic-7406.js</a>, <a href="ic-7406.js.html#line67">line 67</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description usertext">
    <p>Creates an emulation of the 7406 hex inverter.</p>
</div>

























<h5>Returns:</h5>

        
<div class="param-desc">
    <p>A new 7406 hex inverter.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-chips.html#.Ic7406">module:chips.Ic7406</a></span>


    </dd>
</dl>

    



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id=".Ic4066">Ic4066</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ic-4066.js.html">ic-4066.js</a>, <a href="ic-4066.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>A1</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[1] One of the data pins on
switch 1.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>B1</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[2] One of the data pins on
switch 1.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>X1</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[13] The control pin for switch
1.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A2</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[3] One of the data pins on
switch 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>B2</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[4] One of the data pins on
switch 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>X2</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[5] The control pin for switch
2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A3</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[9] One of the data pins on
switch 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>B3</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[8] One of the data pins on
switch 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>X3</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[6] The control pin for switch
2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A4</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[11] One of the data pins on
switch 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>B4</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[10] One of the data pins on
switch 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>X4</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[12] The control pin for switch
2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Vcc</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[14] The positive power supply.
This pin is not emulated.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>GND</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[7] The ground. This pin is not
emulated.</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Emulation of the 4066 quad bilateral switch.</p>
<p>The 4066 is one of the 4000-series CMOS logic chips, consisting of
four symmetrical analong switches. The data pins transfer data
bidirectionally as long as their associated control pin is low. When
the control pin goes hish, no data can be passed through the switch.</p>
<p>When the control pin returns to low, both data pins return to the
level of the <em>last of them to be set</em>. This is a bit of a compromise
necessitated by the fact that this is a digital simulation of an
analog circuit, but it should be the most natural. Most use cases do
not involve switching the direction that data flows through the
switch regularly.</p>
<p>There is no high-impedance state for the pins of this device. When
the control pin his high, the data pins simply take on the level of
whatever circuits they're connected to. This is emulated by changing
their mode to <code>INPUT</code> so that they do
not send signals but can still track changes on their traces.</p>
<p>There is no consistency across datahsheets for naming the 4066's
pins. Many sheets simply have some data pins marked &quot;IN/OUT&quot; and
others marked &quot;OUT/IN&quot;, but those don't work well as property names.
For consistency with the rest of the logic chips in this module, the
data pins have been named <code>A</code> and <code>B</code>, while thie control pin is
named <code>X</code>. The <code>A</code> and <code>B</code> pins are completely interchangeable and do
appear in different orders oon many datasheets; this particular
arrangement (if not the pin names) is taken from the datasheet for
the Texas Instruments CD4066B.</p>
<p>The chip is in a 14-pin dual in-line package with the following pin
assignments.</p>
<pre class="prettyprint source lang-txt"><code>        +---U---+
     A1 |1    14| Vdd
     B1 |2    13| X1
     B2 |3    12| X4
     A2 |4    11| A4
     X2 |5    10| B4
     X3 |6     9| B3
    Vss |7     8| A3
        +-------+
</code></pre>
<p><em>(Vdd and Vss are power supply pins and are not emulated.)</em></p>
<p>This chip is unusual in that it's the only analog chip in the system
as emulated (with the exception of the filter portion of the
6581). Even so, it works fine for
switching digital signals as well, and one of the Commodore 64's two
4066's is in fact used as a digital switch.</p>
<p>In the Commodore 64, U16 and U28 are 4066's. The former is used as a
digital switch to control which processor has access to the color
RAM's data pins, while the other is used as an analog switch to
control which game port is providing paddle data to the
6581 SID.</p>
</div>








            
                
<h4 class="name" id=".Ic7406">Ic7406</h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ic-7406.js.html">ic-7406.js</a>, <a href="ic-7406.js.html#line6">line 6</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>A1</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[1] The input of inverter 1.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Y1</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[2] The output of inverter 1.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A2</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[3] The input of inverter 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Y2</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[4] The output of inverter 2.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A3</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[5] The input of inverter 3.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Y3</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[6] The output of inverter 3.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A4</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[9] The input of inverter 4.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Y4</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[8] The output of inverter 4.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A5</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[11] The input of inverter 5.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Y5</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[10] The output of inverter 5.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>A6</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[13] The input of inverter 6.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Y6</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[12] The output of inverter 6.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Vcc</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[14] The positive power supply.
This pin is not emulated.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>GND</code></td>
            

            <td class="type">
            
                
<span class="param-type">module:components.Pin</span>


            
            </td>

            

            

            <td class="description last"><p>[7] The ground. This pin is not
emulated.</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>An emulation of the 7406 hex inverter.</p>
<p>The 7406 is one of the 7400-series TTL logic chips, consisting of six
single-input inverters. An inverter is the simplest of logic gates:
if the input is low, the output is high, and vice versa.</p>
<table>
<thead>
<tr>
<th style="text-align:center">An</th>
<th style="text-align:center">Yn</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">L</td>
<td style="text-align:center"><strong>H</strong></td>
</tr>
<tr>
<td style="text-align:center">H</td>
<td style="text-align:center"><strong>L</strong></td>
</tr>
</tbody>
</table>
<p>The chip is in a 14-pin dual in-line package with the following pin
assignments.</p>
<pre class="prettyprint source lang-txt"><code>        +---U---+
     A1 |1    14| Vcc
     Y1 |2    13| A6
     A2 |3    12| Y6
     Y2 |4    11| A5
     A3 |5    10| Y5
     Y3 |6     9| A4
    GND |7     8| Y4
        +-------+
</code></pre>
<p><em>(GND and Vcc are ground and power supply pins respectively, and they
are not emulated.)</em></p>
<p>In the Commodore 64, U8 is a 7406. It's responsible for inverting
logic signals that are expected in the inverse they're given, such as
the 6567's <code>AEC</code> signal being turned into the inverse <code>_AEC</code> signal
for the 82S100.</p>
</div>








            
    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.4</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>